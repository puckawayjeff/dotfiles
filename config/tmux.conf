# tmux.conf - Sensible default configuration for tmux
# Managed by dotfiles repository

# --- General Settings ---

# Set prefix to Ctrl+b (default, but explicit)
set -g prefix C-b
bind C-b send-prefix

# Enable mouse support (click panes, resize with drag, scroll)
set -g mouse on

# Start window numbering at 1 instead of 0
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one is closed
set -g renumber-windows on

# Set scrollback buffer size
set -g history-limit 10000

# Enable 256 colors
set -g default-terminal "screen-256color"

# Reduce escape time for vim responsiveness
set -sg escape-time 10

# Enable focus events for vim autoread
set -g focus-events on

# --- Key Bindings ---

# Reload configuration
bind r source-file ~/.tmux.conf \; display "Configuration reloaded!"

# Split panes with | and - (more intuitive than % and ")
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# New window in current path
bind c new-window -c "#{pane_current_path}"

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Vim-style pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Copy mode vim bindings
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# --- Status Bar ---

# Status bar position
set -g status-position bottom

# Status bar colors
set -g status-style bg=colour235,fg=colour250

# Left status: session name
set -g status-left-length 40
set -g status-left "#[fg=colour39,bold] #S #[fg=colour250]│ "

# Right status: date and time
set -g status-right-length 60
set -g status-right "#[fg=colour250]│ #[fg=colour214]%Y-%m-%d #[fg=colour250]│ #[fg=colour39]%H:%M "

# Window status format
set -g window-status-format "#[fg=colour245] #I:#W "
set -g window-status-current-format "#[fg=colour39,bold] #I:#W "

# Center window list
set -g status-justify centre

# Activity monitoring
setw -g monitor-activity on
set -g visual-activity off

# --- Pane Borders ---

# Pane border colors
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=colour39

# --- Message Display ---

# Message colors
set -g message-style bg=colour235,fg=colour39,bold

# --- Additional Features ---

# Enable clipboard integration (requires xclip or similar)
# Uncomment if you have xclip installed:
# bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

# Aggressive resize (useful for multi-monitor setups)
setw -g aggressive-resize on

# Display pane numbers longer
set -g display-panes-time 2000

# --- End Configuration ---
